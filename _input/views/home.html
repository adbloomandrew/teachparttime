<form>

	<h1">Create an account</h1>

	<input type="full_name" id="full_name" placeholder="Full name" autocomplete="full-name" required="" autofocus="">

	<input type="email" id="email" placeholder="Email" autocomplete="email" required="">

	<button type="submit">Apply</button>

</form>

<script>

//	  ____    _   _
//	 / __ \  | \ | |
//	| |  | | |  \| |
//	| |  | | | . ` |
//	| |__| | | |\  |
//	 \____/  |_| \_|
//

//
//	<<>	React when the user submits the form
//
$('form').on("submit", function(event) {

	//
	//	1.	Prevent the default form action so we can process the action
	//		our way.
	//
	event.preventDefault();

	//
	//	2.	Get the user inputs
	//
	var full_name = $('#full_name').val();
	var email = $('#email').val();

	//
	//	3.	Create the object that will hold all the user data until
	//		he or she finishes filling the form
	//
	var session = {
		fields: {
			name: full_name,
			email: email,
			submission_date: moment().toISOString()
		}
	}

	//
	//	4.	Save the data to Airtable
	//
	save_to_airtable(session, function(id) {

		//
		//	2.	Save the Airtable ID so we can update the user record in all
		//		the subsequent pages.
		//
		session.id = id;

		//
		//	3.	Save the whole user session so we can save the progress of the
		//		page.
		//
		Cookies.set('tpt_session', session, { secure: true });

		//
		//	->	Redirect the user to the next step
		//
		window.location.replace('form.html');

	});

});

</script>